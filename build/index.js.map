{"version":3,"sources":["../index.js"],"names":["fs","require","merge","files","parsed","map","file","text","readFileSync","anchors","match","aliases","console","log"],"mappings":"AAAA;;;;AAIA,MAAMA,KAAKC,QAAQ,IAAR,CAAX;;AAEA;;;AAGA,MAAMC,QAAQ,CAAC,GAAGC,KAAJ,KAAc;AAC1B,MAAIC,SAAS,EAAb;AACAD,QAAME,GAAN,CAAWC,IAAD,IAAU;AAClB,QAAIC,OAAOP,GAAGQ,YAAH,CAAgBF,IAAhB,EAAsB,MAAtB,CAAX;AACA,UAAMG,UAAUF,KAAKG,KAAL,CAAW,aAAX,CAAhB;AACA,UAAMC,UAAUJ,KAAKG,KAAL,CAAW,cAAX,CAAhB;AACAE,YAAQC,GAAR,CAAY,EAACJ,OAAD,EAAZ;AACAG,YAAQC,GAAR,CAAY,EAACF,OAAD,EAAZ;AACD,GAND;AAOD,CATD;;AAWAT,MAAM,8CAAN,EAAsD,8CAAtD","file":"index.js","sourcesContent":["/**\n * Sane YAML Merger\n */\n\nconst fs = require('fs')\n\n/**\n * Merges YAML files while preserving anchors and aliases.\n */\nconst merge = (...files) => {\n  let parsed = []\n  files.map((file) => {\n    let text = fs.readFileSync(file, 'utf8')\n    const anchors = text.match(/:\\s+(&\\S+)/g)\n    const aliases = text.match(/:\\s+(\\*\\S+)/g)\n    console.log({anchors})\n    console.log({aliases})\n  })\n}\n\nmerge('~/code/circleci-microservice/test/dc-api.yml', '~/code/circleci-microservice/test/global.yml')\n"]}